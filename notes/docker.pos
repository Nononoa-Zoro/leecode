{"diagram":{"image":{"x":0,"width":200,"y":0,"pngdata":"","height":200},"elements":{"leftChildren":[{"parent":"root","children":[{"parent":"bc941bc0b3e0","children":[],"id":"0cfe6124ab7e","title":"下载镜像 docker pull host/imagename:version"},{"parent":"bc941bc0b3e0","children":[],"id":"84cc47acf002","title":"查看已有镜像 docker images"},{"parent":"bc941bc0b3e0","children":[{"parent":"4c4b7f281df2","children":[],"id":"b874b2a3a454","title":"FROM 指定基础镜像"},{"parent":"4c4b7f281df2","children":[],"id":"45ff23c141aa","title":"RUN 指定shell命令，每个RUN指定都会创建一层镜像"},{"parent":"4c4b7f281df2","children":[{"parent":"fad2d44ac99d","children":[],"id":"2d14798eb6c3","title":"docker在build的时候会将这个context下的所有文件打包，发送给docker服务器"},{"parent":"fad2d44ac99d","children":[],"id":"abc07cae4cb4","title":"COPY ./A /app/ 将context目录下的A文件 复制到容器中的 /app目录中"},{"parent":"fad2d44ac99d","children":[],"id":"6f2c12c3422a","title":".dockerignore文件类似.gitignore可以剔除某些文件不参与镜像打包"},{"parent":"fad2d44ac99d","children":[],"id":"e56e006f9ad8","title":"docker build的默认行为是在context下查找Dockerfile文件，也可以通过-f进行指定"}],"id":"fad2d44ac99d","title":"上下文 context"}],"id":"4c4b7f281df2","title":"创建镜像 dockerfile"},{"parent":"bc941bc0b3e0","children":[],"id":"52af4da8fe88","title":"搜索镜像 docker search"}],"id":"bc941bc0b3e0","title":"镜像"},{"parent":"root","children":[{"parent":"c346a769fc99","children":[{"parent":"ff88cb111eaf","children":[],"id":"d938ac8992dd","title":"/etc/docker/daemon.json"}],"id":"ff88cb111eaf","title":"位置"},{"parent":"c346a769fc99","children":[{"parent":"1ae52cf71616","children":[{"parent":"362f71254d2d","children":[],"id":"8bb17ec2bf33","title":"镜像加速地址"}],"id":"362f71254d2d","title":"registry-mirrors"},{"parent":"1ae52cf71616","children":[{"parent":"3ddb315a14a8","children":[],"id":"615bcc89940f","title":"docker的私有仓库地址  可以不是https的"}],"id":"3ddb315a14a8","title":"insecure-registries"}],"id":"1ae52cf71616","title":"参数项"}],"id":"c346a769fc99","title":"配置"}],"children":[{"parent":"root","children":[{"parent":"3f187016c1eb","children":[],"id":"eb993da40dea","title":"容器内部查看container-id cat /proc/self/cgroup // 首行64位16进制数就是container-id"},{"parent":"3f187016c1eb","children":[],"id":"63fe6530d6c0","title":"启动容器 docker run -it&nbsp;--privileged=true repo:tag /bin/bash&nbsp;"},{"parent":"3f187016c1eb","children":[{"parent":"438810b1851c","children":[],"id":"f628409744f6","title":"docker attach container-id // 此方法在退出容器后，容器会停止"},{"parent":"438810b1851c","children":[],"id":"0b7e0da7bee3","title":"docker exec -it --user mqq container-id /bin/bash //指定mqq用户身份登录"}],"id":"438810b1851c","title":"登录容器"},{"parent":"3f187016c1eb","children":[{"parent":"753ec0c39c9f","children":[],"id":"cc3ec723a06d","title":"docker stop $name或($commit-id)"}],"id":"753ec0c39c9f","title":"退出容器"},{"parent":"3f187016c1eb","children":[{"parent":"e016518765f0","children":[],"id":"c73bf2fff2d8","title":"docker rm $container-id"}],"id":"e016518765f0","title":"删除容器"}],"id":"3f187016c1eb","title":"容器"},{"parent":"root","children":[{"parent":"6be270ebae63","children":[{"parent":"48a1d6b75ff5","children":[],"id":"1a737d679e22","title":"docker info | grep Registry"}],"id":"48a1d6b75ff5","title":"查看当前镜像源"}],"id":"6be270ebae63","title":"仓库"}],"root":true,"theme":"theme3","id":"root","title":"docker","version":93,"structure":"mind"}},"meta":{"exportTime":"2022-02-21 14:54:10","member":"","diagramInfo":{"creator":"","created":"","modified":"","title":"","category":""},"id":"","type":"ProcessOn Schema File","version":"1.0"}}